@model IEnumerable<ContactPost>
@{
    ViewData["Title"] = "Index";
}

<div class="page-header">
	<div class="row align-items-end">
		<div class="col-lg-8">
			<div class="page-header-title">
				<div class="d-inline">
					<h4>Messages</h4>
					<span>
						The List of all Messages
					</span>
				</div>
			</div>
		</div>
		<div class="col-lg-4">
			<div class="page-header-breadcrumb">
				<ul class="breadcrumb-title">
					<li class="breadcrumb-item" style="float: left;">
						<a asp-area="admin" asp-controller="dashboard" asp-action="index"> <i class="feather icon-home"></i> </a>
					</li>
					<li class="breadcrumb-item" style="float: left;">
						<a href="#!">Messages</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
</div>
<div class="card">
	<div class="card-block table-border-style">
		<div class="table-responsive">
			<table class="table table-hover">
				<thead>
					<tr>
						<th>#</th>
						<th>Message</th>
						<th>Status</th>
						<th class="table-operations">

						</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var item in Model)
				   {
					   <tr data-entity-id="@item.Id">
						<th scope="row">@item.Id</th>
						<td>@item.Message</td>
						<td>
								@if (item.AnswerDate == null)
								{
									<span class="badge badge-warning text-white">Waiting for an answer</span>
								}
								else
								{
									<span class="badge badge-success text-white">Answered (@item.AnswerDate?.ToString("dd.MM.yyyy HH:mm:ss"))</span>
								}

						</td>
						<td class="table-operations">
								@if (item.AnswerDate == null)
								{
									<a asp-action="answer" asp-route-id="@item.Id" class="btn btn-warning"><i class="fa-solid fa-envelope"></i></a>
								}
								<a asp-action="details" asp-route-id="@item.Id" class="btn btn-secondary"><i class="fa-solid fa-eye"></i></a>
						</td>
					</tr>
				   }
				</tbody>
			</table>
		</div>
	</div>
</div>

